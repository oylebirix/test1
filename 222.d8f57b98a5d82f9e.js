"use strict";(self.webpackChunknobleui_angular=self.webpackChunknobleui_angular||[]).push([[222],{8222:(me,_,s)=>{s.r(_),s.d(_,{ProfileModule:()=>pe});var g=s(9808),d=s(3492),f=s(5861),e=s(5e3),m=s(8028),h=s(3406),b=s(9534),Z=s(2290),p=s(1238),r=s(2382);const A=function(i,a){return{"btn-outline-info":i,"btn-info":a}};function x(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.oxw().select(o)}),e._uU(1),e.qZA()}if(2&i){const t=a.$implicit;e.Q6J("ngClass",e.WLB(2,A,!t.selected,t.selected)),e.xp6(1),e.Oqu(t.name)}}function q(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",35),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return l.newProfile=!l.newProfile,l.profile={gender:1}}),e._UZ(1,"i",36),e._uU(2," Yeni Profil Ekleyin "),e.qZA()}}function M(i,a){1&i&&(e.TgZ(0,"a",37),e._uU(1,"Bilgiler kaydediliyor l\xfctfen bekleyin."),e.qZA())}function J(i,a){1&i&&(e.TgZ(0,"a",37),e._uU(1,"Resimler y\xfckleniyor l\xfctfen bekleyin."),e.qZA())}const U=function(){return["../list"]};let k=(()=>{class i{constructor(t,n,l,o){this.profileService=t,this.hobbyService=n,this.fileUploadService=l,this.toastr=o,this.profile={gender:1},this.newProfile=!1,this.savingPhoto=!1,this.saving=!1,this.hobbies=[]}ngOnInit(){this.hobbyService.getHobbyList({limit:100},t=>{this.hobbies=t.map(n=>({_id:n._id,name:n.name,image:n.icon?n.icon:n.image,selected:!1}))})}select(t){t.selected=!t.selected}add(){var t=this;return(0,f.Z)(function*(){if(t.saving||t.savingPhoto)t.toastr.error("L\xfctfen bekleyin.");else if(t.profile.name)if(t.profile.sur_name)if(t.profile.email)if(t.birthdayText){if(t.profile.fake=!0,t.profile.birthday=new Date(t.birthdayText),t.profile.age=(new Date).getFullYear()-t.profile.birthday.getFullYear(),t.saving=!1,t.pp&&(t.savingPhoto=!0,t.profile.pp=yield t.uploadPP()),t.gallery){t.savingPhoto=!0;let n=yield t.uploadGallery();t.profile.images=n}t.savingPhoto=!1,t.saving=!0,t.profile.hobbies=t.hobbies.filter(n=>n.selected),t.profileService.add(t.profile,n=>{t.saving=!1,t.savingPhoto=!1,n?(t.newProfile=!0,t.toastr.success("Profil Ekleme Ba\u015far\u0131l\u0131")):t.toastr.error("Profil Ekleme Ba\u015far\u0131s\u0131z")})}else t.toastr.error("L\xfctfen do\u011fum tarihi girin.");else t.toastr.error("L\xfctfen email girin.");else t.toastr.error("L\xfctfen soyisim girin.");else t.toastr.error("L\xfctfen isim girin.")})()}sleep(t){return new Promise(n=>setTimeout(n,t))}imageChanged(t){this.pp=t.target.files}galleryChanged(t){this.gallery=t.target.files}uploadPP(){return new Promise((t,n)=>{this.fileUploadService.upload(this.pp,{module:"pp"},l=>{var o;(null===(o=null==l?void 0:l.urls)||void 0===o?void 0:o.length)?t(l.urls[0].url):n(null)})})}uploadGallery(){return new Promise((t,n)=>{this.fileUploadService.upload(this.gallery,{module:"image"},l=>{var o;(null===(o=null==l?void 0:l.urls)||void 0===o?void 0:o.length)?t(l.urls.map(u=>u.url)):n(null)})})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.H),e.Y36(h.W),e.Y36(b.J),e.Y36(Z._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-create"]],decls:84,vars:18,consts:[[1,"d-flex","justify-content-between","align-items-center","flex-wrap","grid-margin"],[1,"mb-3","mb-md-0"],["placement","bottom","ngbTooltip","Geri D\xf6n",1,"btn","btn-link","btn-icon",3,"routerLink"],[1,"feather","icon-arrow-left"],[1,"card","grid-margin"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-md-6","col-sm-12"],[1,"form-group","mb-3"],[1,"form-label"],["type","text","placeholder","Ad","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Soyad","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","date","placeholder","Do\u011fum Tarihi","required","",1,"form-control",3,"ngModel","min","ngModelChange"],["type","email","placeholder","Email","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],["selected","",3,"value"],[3,"value"],[1,"col-md-12","col-sm-12"],["placeholder","A\xe7\u0131klama",1,"form-control",3,"ngModel","ngModelChange"],["type","email","placeholder","\u0130nstagram","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","email","placeholder","Telefon","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","file","accept","image/*",1,"form-control",3,"change"],["type","file","multiple","","accept","image/*",1,"form-control",3,"change"],[1,"col-lg-12","col-xlg-6"],[1,"card"],[1,"card-title"],[1,"button-group"],["type","button","style","margin-left: 5px;","class","btn",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"card-footer","d-flex","gap-2"],["type","submit",1,"btn","btn-success","btn-icon-text",3,"disabled","click"],[1,"btn-icon-prepend","feather","icon-save"],["type","button","class","btn btn-primary btn-icon-text",3,"click",4,"ngIf"],["class","text-primary mt-2",4,"ngIf"],["type","button",1,"btn",2,"margin-left","5px",3,"ngClass","click"],["type","button",1,"btn","btn-primary","btn-icon-text",3,"click"],[1,"btn-icon-prepend","feather","icon-plus"],[1,"text-primary","mt-2"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div")(2,"h4",1)(3,"a",2),e._UZ(4,"i",3),e.qZA(),e._uU(5," Fake Hesaplar "),e.qZA()()(),e.TgZ(6,"div",4)(7,"div",5),e._uU(8,"Profil Ekle"),e.qZA(),e.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"label",10),e._uU(14,"Ad"),e.qZA(),e.TgZ(15,"input",11),e.NdJ("ngModelChange",function(o){return n.profile.name=o}),e.qZA()()(),e.TgZ(16,"div",8)(17,"div",9)(18,"label",10),e._uU(19,"Soyad"),e.qZA(),e.TgZ(20,"input",12),e.NdJ("ngModelChange",function(o){return n.profile.sur_name=o}),e.qZA()()(),e.TgZ(21,"div",8)(22,"div",9)(23,"label",10),e._uU(24,"Do\u011fum Tarihi"),e.qZA(),e.TgZ(25,"input",13),e.NdJ("ngModelChange",function(o){return n.birthdayText=o}),e.qZA()()(),e.TgZ(26,"div",8)(27,"div",9)(28,"label",10),e._uU(29,"Email"),e.qZA(),e.TgZ(30,"input",14),e.NdJ("ngModelChange",function(o){return n.profile.email=o}),e.qZA()()(),e.TgZ(31,"div",8)(32,"div",9)(33,"label",10),e._uU(34,"Cinsiyet"),e.qZA(),e.TgZ(35,"select",15),e.NdJ("ngModelChange",function(o){return n.profile.gender=o}),e.TgZ(36,"option",16),e._uU(37,"Kad\u0131n"),e.qZA(),e.TgZ(38,"option",17),e._uU(39,"Erkek"),e.qZA()()()(),e.TgZ(40,"div",18)(41,"div",9)(42,"label",10),e._uU(43,"A\xe7\u0131klama"),e.qZA(),e.TgZ(44,"textarea",19),e.NdJ("ngModelChange",function(o){return n.profile.desc=o}),e.qZA()()(),e.TgZ(45,"div",8)(46,"div",9)(47,"label",10),e._uU(48,"\u0130nstagram"),e.qZA(),e.TgZ(49,"input",20),e.NdJ("ngModelChange",function(o){return n.profile.instagram=o}),e.qZA()()(),e.TgZ(50,"div",8)(51,"div",9)(52,"label",10),e._uU(53,"Facebook"),e.qZA(),e.TgZ(54,"input",20),e.NdJ("ngModelChange",function(o){return n.profile.facebook=o}),e.qZA()()(),e.TgZ(55,"div",8)(56,"div",9)(57,"label",10),e._uU(58,"Telefon"),e.qZA(),e.TgZ(59,"input",21),e.NdJ("ngModelChange",function(o){return n.profile.phone=o}),e.qZA()()(),e.TgZ(60,"div",18)(61,"div",9)(62,"label",10),e._uU(63,"Profil Fotosu"),e.qZA(),e.TgZ(64,"input",22),e.NdJ("change",function(o){return n.imageChanged(o)}),e.qZA()()(),e.TgZ(65,"div",18)(66,"div",9)(67,"label",10),e._uU(68,"Galeri"),e.qZA(),e.TgZ(69,"input",23),e.NdJ("change",function(o){return n.galleryChanged(o)}),e.qZA()()()()(),e.TgZ(70,"div",24)(71,"div",25)(72,"div",6)(73,"h6",26),e._uU(74,"Hobiler"),e.qZA(),e.TgZ(75,"div",27),e.YNc(76,x,2,5,"button",28),e.qZA()()()(),e.TgZ(77,"div",29)(78,"button",30),e.NdJ("click",function(){return n.add()}),e._UZ(79,"i",31),e._uU(80," Kaydet "),e.qZA(),e.YNc(81,q,3,0,"button",32),e.YNc(82,M,2,0,"a",33),e.YNc(83,J,2,0,"a",33),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("routerLink",e.DdM(17,U)),e.xp6(12),e.Q6J("ngModel",n.profile.name),e.xp6(5),e.Q6J("ngModel",n.profile.sur_name),e.xp6(5),e.Q6J("ngModel",n.birthdayText),e.xp6(5),e.Q6J("ngModel",n.profile.email),e.xp6(5),e.Q6J("ngModel",n.profile.gender),e.xp6(1),e.Q6J("value",1),e.xp6(2),e.Q6J("value",2),e.xp6(6),e.Q6J("ngModel",n.profile.desc),e.xp6(5),e.Q6J("ngModel",n.profile.instagram),e.xp6(5),e.Q6J("ngModel",n.profile.facebook),e.xp6(5),e.Q6J("ngModel",n.profile.phone),e.xp6(17),e.Q6J("ngForOf",n.hobbies),e.xp6(2),e.Q6J("disabled",n.newProfile),e.xp6(3),e.Q6J("ngIf",n.newProfile),e.xp6(1),e.Q6J("ngIf",n.saving),e.xp6(1),e.Q6J("ngIf",n.savingPhoto))},directives:[d.yS,p._L,r.Fj,r.Q7,r.JJ,r.On,r.EJ,r.YN,r.Kr,g.sg,g.mk,g.O5],styles:[""]}),i})();function N(i,a){if(1&i&&(e.TgZ(0,"audio",43),e._UZ(1,"source",44),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("src",null==t.user?null:t.user.audio_note,e.LSH)}}function P(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",39),e.YNc(1,N,2,1,"audio",40),e.TgZ(2,"button",41),e.NdJ("click",function(){return e.CHM(t),e.oxw().removeAudio()}),e._UZ(3,"i",42),e._uU(4," Sil "),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.user?null:t.user.audio_note)}}function L(i,a){if(1&i&&e._UZ(0,"img",45),2&i){const t=e.oxw();e.Q6J("src",null==t.user?null:t.user.pp,e.LSH)}}function w(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.oxw().removeGallery(o)}),e._UZ(1,"img",47)(2,"br")(3,"i",42),e._uU(4," Resmi Kald\u0131r "),e.qZA()}if(2&i){const t=a.$implicit;e.xp6(1),e.Q6J("src",t,e.LSH)}}const E=function(i,a){return{"btn-outline-info":i,"btn-info":a}};function Q(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.oxw().select(o)}),e._uU(1),e.qZA()}if(2&i){const t=a.$implicit;e.Q6J("ngClass",e.WLB(2,E,!t.selected,t.selected)),e.xp6(1),e.Oqu(t.name)}}function F(i,a){1&i&&(e.TgZ(0,"a",49),e._uU(1,"Bilgiler kaydediliyor l\xfctfen bekleyin."),e.qZA())}function S(i,a){1&i&&(e.TgZ(0,"a",49),e._uU(1,"Dosyalar y\xfckleniyor l\xfctfen bekleyin."),e.qZA())}const Y=function(){return["../../list"]};let O=(()=>{class i{constructor(t,n,l,o,u){this.profileService=t,this.fileUploadService=n,this.toastr=l,this.hobbyService=o,this.route=u,this.user={},this.newUser=!1,this.ready=!0,this.hobbies=[],this.savingPhoto=!1,this.saving=!1}ngOnInit(){this.route.params.subscribe(t=>{this.routerId=t.id||0,this.getUserFromId()})}select(t){t.selected=!t.selected}getUserFromId(){this.profileService.getProfile({_id:this.routerId},t=>{this.user=t,this.user.password=null,this.user.birthday&&(this.birthdayText=new Date(this.user.birthday).toISOString().split("T")[0]),this.hobbyService.getHobbyList({limit:100},n=>{var l;this.hobbies=n.map(u=>({_id:u._id,name:u.name,image:u.icon?u.icon:u.image,selected:!1}));let o=this.user.hobbies;null===(l=this.hobbies)||void 0===l||l.forEach(u=>{null==o||o.forEach(ce=>{u._id==ce._id&&(u.selected=!0)})})})})}update(){var t=this;return(0,f.Z)(function*(){if(t.saving||t.savingPhoto)t.toastr.error("L\xfctfen bekleyin.");else if(t.user.name)if(t.user.sur_name)if(t.user.email)if(t.birthdayText){if(t.ready=!1,t.user.birthday=new Date(t.birthdayText),t.user.age=(new Date).getFullYear()-t.user.birthday.getFullYear(),t.saving=!1,t.pp&&(t.savingPhoto=!0,t.user.pp=yield t.uploadPP()),t.gallery){t.savingPhoto=!0;let n=yield t.uploadGallery();t.user.images=t.user.images.concat(n)}t.audio&&(t.savingPhoto=!0,t.user.audio_note=yield t.uploadAudio()),t.savingPhoto=!1,t.saving=!0,t.user.hobbies=t.hobbies.filter(n=>n.selected),t.profileService.update(t.user,n=>{t.saving=!1,t.savingPhoto=!1,n?(t.newUser=!0,t.toastr.success("Profil Ekleme Ba\u015far\u0131l\u0131"),t.getUserFromId(),t.ready=!0):(t.ready=!0,t.toastr.error("Profil Ekleme Ba\u015far\u0131s\u0131z"))})}else t.toastr.error("L\xfctfen do\u011fum tarihi girin.");else t.toastr.error("L\xfctfen email girin.");else t.toastr.error("L\xfctfen soyisim girin.");else t.toastr.error("L\xfctfen isim girin.")})()}uploadPP(){return new Promise((t,n)=>{this.fileUploadService.upload(this.pp,{module:"pp"},l=>{var o;(null===(o=null==l?void 0:l.urls)||void 0===o?void 0:o.length)?t(l.urls[0].url):n(null)})})}uploadAudio(){return new Promise((t,n)=>{this.fileUploadService.upload(this.audio,{module:"audio"},l=>{var o;(null===(o=null==l?void 0:l.urls)||void 0===o?void 0:o.length)?t(l.urls[0].url):n(null)})})}uploadGallery(){return new Promise((t,n)=>{this.fileUploadService.upload(this.gallery,{module:"image"},l=>{var o;(null===(o=null==l?void 0:l.urls)||void 0===o?void 0:o.length)?t(l.urls.map(u=>u.url)):n(null)})})}removeGallery(t){this.user.images=this.user.images.filter(n=>n!=t)}imageChanged(t){this.pp=t.target.files}audioChanged(t){this.audio=t.target.files}removeAudio(){this.user.audio_note=null}galleryChanged(t){this.gallery=t.target.files}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.H),e.Y36(b.J),e.Y36(Z._W),e.Y36(h.W),e.Y36(d.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit"]],decls:97,vars:22,consts:[[1,"d-flex","justify-content-between","align-items-center","flex-wrap","grid-margin"],[1,"mb-3","mb-md-0"],["placement","bottom","ngbTooltip","Geri D\xf6n",1,"btn","btn-link","btn-icon",3,"routerLink"],[1,"feather","icon-arrow-left"],[1,"card","grid-margin"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-md-6","col-sm-12"],[1,"form-group","mb-3"],[1,"form-label"],["type","text","placeholder","Ad","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Soyad","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","date","placeholder","Do\u011fum Tarihi","required","",1,"form-control",3,"ngModel","min","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],["selected","",3,"value"],[3,"value"],["type","email","placeholder","Email","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","\u015eifre","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-12","col-sm-12"],["placeholder","A\xe7\u0131klama",1,"form-control",3,"ngModel","ngModelChange"],["type","email","placeholder","\u0130nstagram","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","email","placeholder","Facebook","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","email","placeholder","Telefon","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","file","accept","audio/mp3,audio/*;capture=microphone",1,"form-control",3,"change"],["class","d-flex justify-content-center align-items-center flex-wrap",4,"ngIf"],["type","file","accept","image/*",1,"form-control",3,"change"],["style","height: 75px","class","img-fluid",3,"src",4,"ngIf"],["type","file","multiple","","accept","image/*",1,"form-control",3,"change"],["class","btn btn-light m-2",3,"click",4,"ngFor","ngForOf"],[1,"col-lg-12","col-xlg-6"],[1,"card"],[1,"card-title"],[1,"button-group"],["type","button","style","margin-left: 5px;","class","btn",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"card-footer","d-flex","gap-2"],["type","submit",1,"btn","btn-success","btn-icon-text",3,"disabled","click"],[1,"btn-icon-prepend","feather","icon-save"],["class","text-primary mt-2",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","flex-wrap"],["controls","",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"feather","icon-x"],["controls",""],["type","audio/mpeg",3,"src"],[1,"img-fluid",2,"height","75px",3,"src"],[1,"btn","btn-light","m-2",3,"click"],[1,"img-fluid",2,"width","75px","height","75px","object-fit","contain",3,"src"],["type","button",1,"btn",2,"margin-left","5px",3,"ngClass","click"],[1,"text-primary","mt-2"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div")(2,"h4",1)(3,"a",2),e._UZ(4,"i",3),e.qZA(),e._uU(5," Fake Hesaplar "),e.qZA()()(),e.TgZ(6,"div",4)(7,"div",5),e._uU(8,"Profil D\xfczenle"),e.qZA(),e.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"label",10),e._uU(14,"Ad"),e.qZA(),e.TgZ(15,"input",11),e.NdJ("ngModelChange",function(o){return n.user.name=o}),e.qZA()()(),e.TgZ(16,"div",8)(17,"div",9)(18,"label",10),e._uU(19,"Ad"),e.qZA(),e.TgZ(20,"input",12),e.NdJ("ngModelChange",function(o){return n.user.sur_name=o}),e.qZA()()(),e.TgZ(21,"div",8)(22,"div",9)(23,"label",10),e._uU(24,"Do\u011fum Tarihi"),e.qZA(),e.TgZ(25,"input",13),e.NdJ("ngModelChange",function(o){return n.birthdayText=o}),e.qZA()()(),e.TgZ(26,"div",8)(27,"div",9)(28,"label",10),e._uU(29,"Cinsiyet"),e.qZA(),e.TgZ(30,"select",14),e.NdJ("ngModelChange",function(o){return n.user.gender=o}),e.TgZ(31,"option",15),e._uU(32,"Kad\u0131n"),e.qZA(),e.TgZ(33,"option",16),e._uU(34,"Erkek"),e.qZA()()()(),e.TgZ(35,"div",8)(36,"div",9)(37,"label",10),e._uU(38,"Email"),e.qZA(),e.TgZ(39,"input",17),e.NdJ("ngModelChange",function(o){return n.user.email=o}),e.qZA()()(),e.TgZ(40,"div",8)(41,"div",9)(42,"label",10),e._uU(43,"\u015eifre"),e.qZA(),e.TgZ(44,"input",18),e.NdJ("ngModelChange",function(o){return n.user.password=o}),e.qZA()()(),e.TgZ(45,"div",19)(46,"div",9)(47,"label",10),e._uU(48,"A\xe7\u0131klama"),e.qZA(),e.TgZ(49,"textarea",20),e.NdJ("ngModelChange",function(o){return n.user.desc=o}),e.qZA()()(),e.TgZ(50,"div",8)(51,"div",9)(52,"label",10),e._uU(53,"\u0130nstagram"),e.qZA(),e.TgZ(54,"input",21),e.NdJ("ngModelChange",function(o){return n.user.instagram=o}),e.qZA()()(),e.TgZ(55,"div",8)(56,"div",9)(57,"label",10),e._uU(58,"Facebook"),e.qZA(),e.TgZ(59,"input",22),e.NdJ("ngModelChange",function(o){return n.user.facebook=o}),e.qZA()()(),e.TgZ(60,"div",8)(61,"div",9)(62,"label",10),e._uU(63,"Telefon"),e.qZA(),e.TgZ(64,"input",23),e.NdJ("ngModelChange",function(o){return n.user.phone=o}),e.qZA()()(),e.TgZ(65,"div",19)(66,"div",9)(67,"label",10),e._uU(68,"Sesli Not"),e.qZA(),e.TgZ(69,"input",24),e.NdJ("change",function(o){return n.audioChanged(o)}),e.qZA(),e.YNc(70,P,5,1,"div",25),e.qZA()(),e.TgZ(71,"div",19)(72,"div",9)(73,"label",10),e._uU(74,"Profil Fotosu"),e.qZA(),e.TgZ(75,"input",26),e.NdJ("change",function(o){return n.imageChanged(o)}),e.qZA(),e.YNc(76,L,1,1,"img",27),e.qZA()(),e.TgZ(77,"div",19)(78,"div",9)(79,"label",10),e._uU(80,"Galeri"),e.qZA(),e.TgZ(81,"input",28),e.NdJ("change",function(o){return n.galleryChanged(o)}),e.qZA(),e.TgZ(82,"div"),e.YNc(83,w,5,1,"button",29),e.qZA()()()()(),e.TgZ(84,"div",30)(85,"div",31)(86,"div",6)(87,"h6",32),e._uU(88,"Hobiler"),e.qZA(),e.TgZ(89,"div",33),e.YNc(90,Q,2,5,"button",34),e.qZA()()()(),e.TgZ(91,"div",35)(92,"button",36),e.NdJ("click",function(){return n.update()}),e._UZ(93,"i",37),e._uU(94),e.qZA(),e.YNc(95,F,2,0,"a",38),e.YNc(96,S,2,0,"a",38),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("routerLink",e.DdM(21,Y)),e.xp6(12),e.Q6J("ngModel",n.user.name),e.xp6(5),e.Q6J("ngModel",n.user.sur_name),e.xp6(5),e.Q6J("ngModel",n.birthdayText),e.xp6(5),e.Q6J("ngModel",n.user.gender),e.xp6(1),e.Q6J("value",1),e.xp6(2),e.Q6J("value",2),e.xp6(6),e.Q6J("ngModel",n.user.email),e.xp6(5),e.Q6J("ngModel",n.user.password),e.xp6(5),e.Q6J("ngModel",n.user.desc),e.xp6(5),e.Q6J("ngModel",n.user.instagram),e.xp6(5),e.Q6J("ngModel",n.user.facebook),e.xp6(5),e.Q6J("ngModel",n.user.phone),e.xp6(6),e.Q6J("ngIf",null==n.user?null:n.user.audio_note),e.xp6(6),e.Q6J("ngIf",null==n.user?null:n.user.pp),e.xp6(7),e.Q6J("ngForOf",null==n.user?null:n.user.images),e.xp6(7),e.Q6J("ngForOf",n.hobbies),e.xp6(2),e.Q6J("disabled",!n.ready),e.xp6(2),e.hij(" ",n.ready?"G\xfcncelle":"L\xfctfen Bekleyin"," "),e.xp6(1),e.Q6J("ngIf",n.saving),e.xp6(1),e.Q6J("ngIf",n.savingPhoto))},directives:[d.yS,p._L,r.Fj,r.Q7,r.JJ,r.On,r.EJ,r.YN,r.Kr,g.O5,g.sg,g.mk],styles:[""]}),i})();var I=s(2182),H=s(5226),v=s.n(H),z=s(4045),c=s(6166);function B(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1,"#"),e.qZA())}function j(i,a){if(1&i&&(e.TgZ(0,"b"),e._uU(1),e.qZA()),2&i){const t=a.rowIndex,n=e.oxw();e.xp6(1),e.Oqu(t+1*n.page.pageNumber)}}function D(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1,"Resim"),e.qZA())}function G(i,a){1&i&&e._UZ(0,"img",26),2&i&&e.Q6J("src",a.value,e.LSH)}function R(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1,"Durum"),e.qZA())}function K(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",29),e.NdJ("click",function(){e.CHM(t);const l=e.oxw().row;return e.oxw().setOnline(l._id,l)}),e._uU(1,"Online"),e.qZA()}}function W(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",30),e.NdJ("click",function(){e.CHM(t);const l=e.oxw().row;return e.oxw().setOnline(l._id,l)}),e._uU(1,"Offline"),e.qZA()}}function $(i,a){if(1&i&&(e.YNc(0,K,2,0,"button",27),e.YNc(1,W,2,0,"button",28)),2&i){const t=a.row;e.Q6J("ngIf",t.online),e.xp6(1),e.Q6J("ngIf",!t.online)}}function X(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1,"Ad Soyad"),e.qZA())}function V(i,a){1&i&&e._uU(0),2&i&&e.hij(" ",a.value," ")}function ee(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1,"Ya\u015f"),e.qZA())}function te(i,a){1&i&&e._uU(0),2&i&&e.hij(" ",a.value," ")}function ne(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1,"Cinsiyet"),e.qZA())}function ie(i,a){if(1&i&&e._uU(0),2&i){e.hij(" ",1==a.value?"K":"E"," ")}}function oe(i,a){1&i&&(e.TgZ(0,"span"),e._uU(1,"\u0130\u015flem"),e.qZA())}function le(i,a){1&i&&(e.TgZ(0,"button",34),e._UZ(1,"i",35),e.qZA())}const C=function(i){return["/profile/edit",i]};function ae(i,a){1&i&&(e.TgZ(0,"a",31),e._UZ(1,"i",32),e.qZA(),e.YNc(2,le,2,0,"button",33)),2&i&&(e.Q6J("routerLink",e.VKq(2,C,a.row._id)),e.xp6(2),e.Q6J("ngIf",!1))}function re(i,a){1&i&&(e.TgZ(0,"button",34),e._UZ(1,"i",35),e.qZA())}const T=function(i,a){return{"bg-success":i,"bg-danger":a}};function se(i,a){if(1&i&&(e.TgZ(0,"div",36)(1,"div",37)(2,"div",8)(3,"div",22)(4,"div",38),e._UZ(5,"img",39),e.TgZ(6,"span",40),e._uU(7),e.qZA(),e.TgZ(8,"span",41),e._uU(9),e.qZA()(),e.TgZ(10,"div",42)(11,"b",43),e._uU(12),e.qZA(),e.TgZ(13,"ul",44)(14,"li",45)(15,"span"),e._uU(16,"Ya\u015f"),e.qZA(),e.TgZ(17,"b"),e._uU(18),e.qZA()(),e.TgZ(19,"li",45)(20,"span"),e._uU(21,"Cinsiyet"),e.qZA(),e.TgZ(22,"b"),e._uU(23),e.qZA()(),e.TgZ(24,"li",45)(25,"span"),e._uU(26,"Jeton"),e.qZA(),e.TgZ(27,"b"),e._uU(28),e.qZA()(),e.TgZ(29,"li",46)(30,"span"),e._uU(31,"E-Mail"),e.qZA(),e._UZ(32,"br"),e.TgZ(33,"b"),e._uU(34),e.qZA()()()()()(),e.TgZ(35,"div",47)(36,"a",31),e._UZ(37,"i",32),e.qZA(),e.YNc(38,re,2,0,"button",33),e.qZA()()()),2&i){const t=a.$implicit;e.xp6(5),e.Q6J("src",t.pp,e.LSH)("alt",t.name),e.xp6(1),e.Q6J("ngClass",e.WLB(13,T,t.online,!t.online)),e.xp6(1),e.hij(" ",t.online?"Online":"Offline"," "),e.xp6(1),e.Q6J("ngClass",e.WLB(16,T,!t.banned,t.banned)),e.xp6(1),e.hij(" ",t.banned?"Banl\u0131":"Aktif"," "),e.xp6(3),e.hij(" ",t.name+" "+(null==t?null:t.sur_name)," "),e.xp6(6),e.Oqu(null==t?null:t.age),e.xp6(5),e.Oqu(1==t.gender?"K":"E"),e.xp6(5),e.Oqu(t.coins),e.xp6(6),e.Oqu(t.email),e.xp6(2),e.Q6J("routerLink",e.VKq(19,C,t._id)),e.xp6(2),e.Q6J("ngIf",!1)}}const ue=function(){return["create"]};let y=(()=>{class i{constructor(t,n){this.profileService=t,this.userService=n,this.page=new I.T,this.data=[],this.isLoading=!1,this.page.pageNumber=0,this.page.size=10,this.pageNumber=1}search(){this.page.pageNumber=0,this.isLoading=!0,this.getPageConfig()}ngOnInit(){this.getPageConfig()}setOnline(t,n){this.profileService.setOnline({_id:t,online:!n.online},l=>{n.online=!n.online})}getPageConfig(){this.profileService.getProfilePage({limit:this.page.size,withPassive:!0,key:this.searchText},t=>{this.isLoading=!1,this.page.totalElements=t.totalElements,this.page.totalPages=t.totalPages,this.setPage({offset:0})})}setPage(t){this.page.pageNumber=t.offset,this.getProfileList()}setPage2(t){this.setPage({offset:t})}getProfileList(){let t;this.isLoading=!0,t={key:this.searchText,limit:this.page.size,skip:this.page.size*this.page.pageNumber,withPassive:!0},this.profileService.getProfileList(t,n=>{this.data=n,this.isLoading=!1})}customerToggle(t){this.profileService.toogle({_id:t._id},n=>{t.active=n.active})}delete(t){v().fire({title:"Silme \u0130\u015flemini Onaylay\u0131n",text:"Profile silme i\u015flemini l\xfctfen onaylay\u0131n. Aktif g\xf6r\xfc\u015fmesi olan profilleri silmeyin. Bu i\u015flem geri al\u0131namaz.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\u0130\u015flemi Onayla",cancelButtonText:"Vazge\xe7"}).then(n=>{n.isConfirmed&&this.userService.delete("profile",{_id:t},l=>{v().fire({title:"Profile Silinmi\u015ftir",icon:"success",timer:2e3,timerProgressBar:!0}),this.setPage({offset:this.page.pageNumber})})})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.H),e.Y36(z.K))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-list"]],decls:41,vars:36,consts:[[1,"d-flex","justify-content-between","align-items-center","flex-wrap","grid-margin"],[1,"mb-3","mb-md-0"],["type","submit",1,"btn","btn-success","btn-icon-text",3,"routerLink"],[1,"btn-icon-prepend","feather","icon-plus"],[1,"input-group","mb-3"],["type","text","placeholder","Ara...","aria-label","Ara","aria-describedby","button-addon2",1,"form-control",3,"ngModel","keyup.enter","ngModelChange"],["type","button","id","button-addon2",1,"btn","btn-outline-secondary",3,"click"],[1,"card","grid-margin","d-none","d-lg-block"],[1,"card-body"],[1,"table-responsive"],[1,"bootstrap","expandable",3,"headerHeight","columnMode","count","offset","limit","externalPaging","loadingIndicator","footerHeight","rowHeight","rows","scrollbarH","page"],["myTable",""],["name","Index",3,"width","resizeable","sortable","draggable","canAutoResize"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],["name","pp"],["name","online",3,"width","resizeable","sortable","draggable","canAutoResize"],["name","name"],["name","age"],["name","gender"],[3,"width","resizeable","sortable","draggable","canAutoResize"],[1,"d-md-block","d-lg-none"],[1,"row"],["class","col-12 col-sm-6 col-md-6 col-lg-6 stretch-card",4,"ngFor","ngForOf"],[1,"col-12"],[3,"collectionSize","ellipses","page","maxSize","rotate","boundaryLinks","click","pageChange"],["onerror","this.src='https://iili.io/JXcmTOl.png';",1,"rounded-circle",2,"height","50px","width","50px","object-fit","cover",3,"src"],["class"," btn-success mt-2 d-block ",3,"click",4,"ngIf"],["class"," btn-secondary mt-2 d-block ",3,"click",4,"ngIf"],[1,"btn-success","mt-2","d-block",3,"click"],[1,"btn-secondary","mt-2","d-block",3,"click"],["ngbTooltip","D\xfczenle",1,"btn","btn-icon","btn-light","m-1",3,"routerLink"],[1,"feather","icon-edit"],["class","btn btn-icon btn-light m-1 text-danger","ngbTooltip","Sil",4,"ngIf"],["ngbTooltip","Sil",1,"btn","btn-icon","btn-light","m-1","text-danger"],[1,"feather","icon-x"],[1,"col-12","col-sm-6","col-md-6","col-lg-6","stretch-card"],[1,"card","stretch-card","mb-3"],[1,"col-4","p-0","position-relative"],["onerror","this.src='https://iili.io/JXcmTOl.png';",1,"card-img-top",2,"object-fit","cover",3,"src","alt"],[1,"position-absolute","top-0","start-50","translate-middle","badge","rounded-pill",3,"ngClass"],[1,"position-absolute","bottom-0","start-50","translate-middle","badge","rounded-pill",3,"ngClass"],[1,"col-8"],[1,"card-title"],[1,"list-group","list-group-flush"],[1,"list-group-item","d-flex","justify-content-between"],[1,"list-group-item"],[1,"card-footer","p-1"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Fake Hesaplar"),e.qZA(),e.TgZ(3,"a",2),e._UZ(4,"i",3),e._uU(5," Yeni Profil Ekle "),e.qZA()(),e.TgZ(6,"div",4)(7,"input",5),e.NdJ("keyup.enter",function(){return n.search()})("ngModelChange",function(o){return n.searchText=o}),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return n.search()}),e._uU(9," Ara "),e.qZA()(),e.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"ngx-datatable",10,11),e.NdJ("page",function(o){return n.setPage(o)}),e.TgZ(15,"ngx-datatable-column",12),e.YNc(16,B,2,0,"ng-template",13),e.YNc(17,j,2,1,"ng-template",14),e.qZA(),e.TgZ(18,"ngx-datatable-column",15),e.YNc(19,D,2,0,"ng-template",13),e.YNc(20,G,1,1,"ng-template",14),e.qZA(),e.TgZ(21,"ngx-datatable-column",16),e.YNc(22,R,2,0,"ng-template",13),e.YNc(23,$,2,2,"ng-template",14),e.qZA(),e.TgZ(24,"ngx-datatable-column",17),e.YNc(25,X,2,0,"ng-template",13),e.YNc(26,V,1,1,"ng-template",14),e.qZA(),e.TgZ(27,"ngx-datatable-column",18),e.YNc(28,ee,2,0,"ng-template",13),e.YNc(29,te,1,1,"ng-template",14),e.qZA(),e.TgZ(30,"ngx-datatable-column",19),e.YNc(31,ne,2,0,"ng-template",13),e.YNc(32,ie,1,1,"ng-template",14),e.qZA(),e.TgZ(33,"ngx-datatable-column",20),e.YNc(34,oe,2,0,"ng-template",13),e.YNc(35,ae,3,4,"ng-template",14),e.qZA()()()()(),e.TgZ(36,"div",21)(37,"div",22),e.YNc(38,se,39,21,"div",23),e.TgZ(39,"div",24)(40,"ngb-pagination",25),e.NdJ("click",function(){return n.setPage2(n.pageNumber)})("pageChange",function(o){return n.pageNumber=o}),e.qZA()()()()),2&t&&(e.xp6(3),e.Q6J("routerLink",e.DdM(35,ue)),e.xp6(4),e.Q6J("ngModel",n.searchText),e.xp6(6),e.Q6J("headerHeight",50)("columnMode","force")("count",n.page.totalElements)("offset",n.page.pageNumber)("limit",n.page.size)("externalPaging",!0)("loadingIndicator",n.isLoading)("footerHeight",50)("rowHeight","auto")("rows",n.data)("scrollbarH",!0),e.xp6(2),e.Q6J("width",60)("resizeable",!1)("sortable",!1)("draggable",!1)("canAutoResize",!1),e.xp6(6),e.Q6J("width",80)("resizeable",!1)("sortable",!1)("draggable",!1)("canAutoResize",!1),e.xp6(12),e.Q6J("width",200)("resizeable",!0)("sortable",!1)("draggable",!1)("canAutoResize",!0),e.xp6(5),e.Q6J("ngForOf",n.data),e.xp6(2),e.Q6J("collectionSize",n.page.totalElements)("ellipses",!1)("page",n.pageNumber)("maxSize",5)("rotate",!0)("boundaryLinks",!0))},directives:[d.yS,r.Fj,r.JJ,r.On,c.nE,c.UC,c.tk,c.vq,g.O5,p._L,g.sg,g.mk,p.N9],styles:[""]}),i})();const ge=[{path:"",component:y,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:y}]},{path:"create",component:k},{path:"edit/:id",component:O}];let de=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[d.Bz.forChild(ge)],d.Bz]}),i})(),pe=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[g.ez,de,c.xD,p.IJ,r.u5]]}),i})()}}]);